!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,n,i,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.text=n,this.color=i,this.size=s,this.font=a}return i(e,[{key:"draw",value:function(e,t){this.context.textAlign="center",this.context.fillStyle=this.color,this.context.font=this.size+"px "+this.font,this.context.fillText(this.text,e,t)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.collisionBtn=function(e,t){var n=e.x>=t.x&&e.x<=t.x+110,i=e.y>=t.y&&e.y<=t.y+50;return n&&i},t.collisionMeteor=function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)<2*t.radius*(2*t.radius)},t.randomize=function(e,t){return Math.round(Math.random()*(e-t))+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.elem=n}return i(e,[{key:"draw",value:function(){var e=window.innerWidth,t=window.innerHeight;this.context.drawImage(this.elem,0,0,e,t)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.str=n,this.value=i}return i(e,[{key:"create",value:function(e,t,n,i,s){this.context.drawImage(e,t,n,i,s),this.drawText(t,n,i,s)}},{key:"drawText",value:function(t,n,i,a){var o=this.str+" "+this.value,r=new s.default(this.context,o,"#fff",16,"Lato"),u=e.defineTextX(t,i),c=e.defineTextY(n,a,r.size);r.draw(u,c)}}],[{key:"defineTextX",value:function(e,t){return e+t/2}},{key:"defineTextY",value:function(e,t,n){return e+(t/2+n/3)}}]),e}();t.default=a},function(e,t,n){"use strict";n(5),n(6),n(26),n(27)},function(e,t){},function(e,t,n){e.exports='<!DOCTYPE html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta http-equiv=X-UA-Compatible content="ie=edge"> <title>Meteora</title> </head> <body> <header> <div class=container> <nav id=main-nav> <a href=#advantages>Advantages</a> <a href=#description>Description</a> <a href=#screenshots>Screenshots</a> <a href=#usage>How to use</a> <a href=#game>Let\'s play</a> <a href=#about>About me</a> </nav> <div class=wrapper> <button type=button id=navbar-toggle> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> </div> </div> </header> <main> <div class=jumbotron> <section> <h1><small>Meteora</small> It will blow up your planet! </h1> <a href=#description>Tell me more</a> </section> </div> <div class="container advantages-block" id=advantages> <section> <h2>Game\'s advantages</h2> <div class=wrapper> <figure> <img src='+n(7)+' alt=""> <figcaption>Classical space theme for interface</figcaption> </figure> <figure> <img src='+n(8)+' alt=""> <figcaption>No frameworks were used by developing the game</figcaption> </figure> <figure> <img src='+n(9)+' alt=""> <figcaption>Recommended resolution is from 600px to 1960px</figcaption> </figure> <figure> <img src='+n(10)+' alt=""> <figcaption>You need only mouse for playing the game</figcaption> </figure> <figure> <img src='+n(11)+' alt=""> <figcaption>All backgrounds and elements are vectorized</figcaption> </figure> <figure> <img src='+n(12)+' alt=""> <figcaption>Fully unique design in that vector graphic is used</figcaption> </figure> </div> </section> </div> <div class=description-block id=description> <section class=container> <h2>Description</h2> <div class=wrapper> <figure> <img src='+n(13)+' alt=""> <figcaption> <h3>Conception</h3> <p>The goal is not to allow meteorites to fall. You have to blow up as much as possible. If you miss some of them - it can lead to the end of the game. How many time can you hold out?</p> </figcaption> </figure> <figure> <figcaption> <h3>Technologies</h3> <p>I used Webpack with Babel and Eslint, SASS and of course Javascript (generally ES-6 features) with Canvas. Airbnb JavaScript Styleguide was followed.</p> </figcaption> <img src='+n(14)+' alt=""> </figure> <figure> <img src='+n(15)+' alt=""> <figcaption> <h3>Design</h3> <p>Various shades of red express the feeling of danger and havoc. The meteorites are grey and green to contrast with the backgrounds. All images are drawed manually and use vector graphic </p> </figcaption> </figure> </div> </section> </div> <section class="container screenshots-block" id=screenshots> <h2>Screenshots</h2> <div class=wrapper> <img src='+n(16)+' alt=""> <img src='+n(17)+' alt=""> <img src='+n(18)+' alt=""> <img src='+n(19)+' alt=""> <img src='+n(20)+' alt=""> <img src='+n(21)+' alt=""> </div> </section> <div class="description-block usage-block" id=usage> <section class=container> <h2>How to use it</h2> <div class=wrapper> <figure> <img src='+n(22)+" alt=\"\"> <figcaption> <h3>Start</h3> <p>Click the 'Start' button and try to save the planet from falling meteorits. Their number will grow up. They move with different speed and have different size!</p> </figcaption> </figure> <figure> <figcaption> <h3>Shoot</h3> <p>Left-click to shoot with the weapon in falling meteorits. After exploding you get points. The smaller meteor is, the more you get points. Make a new record of Meteora!</p> </figcaption> <img src="+n(23)+' alt=""> </figure> <figure> <img src='+n(24)+' alt=""> <figcaption> <h3>Don\'t let them fall</h3> <p>Don\'t let the meteorites fall. One meteorit reduce one life! You have only three lives. If you spend all of them - you lose the game! You can restart the game to improve the result.</p> </figcaption> </figure> </div> </section> </div> <section class="container start-game-block" id=game> <h2>Play</h2> <p>Will you dare to become a defender of the planet?</p> <a href=./game.html>Let\'s go!</a> </section> <div class=developer-block id=about> <section class=container> <h2>Information about developer</h2> <figure> <img src='+n(25)+' alt=""> <figcaption> <p>Dzmitry Bely</p> <span>Rolling Scopes student</span> </figcaption> </figure> <ul> <li><a href=https://vk.com/id126149904><i class="fa fa-vk" aria-hidden=true></i></a></li> <li><a href=https://github.com/arsafab><i class="fa fa-github" aria-hidden=true></i></a></li> <li><a href=https://www.linkedin.com/in/dzmitry-bely/ ><i class="fa fa-linkedin-square" aria-hidden=true></i></a></li> </ul> </section> </div> </main> <footer> <a href=https://github.com/rolling-scopes-school/arsafab-front-end-course/tree/game/game><i class="fa fa-github" aria-hidden=true></i></a> </footer> </body> </html> '},function(e,t,n){e.exports=n.p+"icon1.svg"},function(e,t,n){e.exports=n.p+"icon2.svg"},function(e,t,n){e.exports=n.p+"icon3.svg"},function(e,t,n){e.exports=n.p+"icon4.svg"},function(e,t,n){e.exports=n.p+"icon5.svg"},function(e,t,n){e.exports=n.p+"icon6.svg"},function(e,t,n){e.exports=n.p+"conception.svg"},function(e,t,n){e.exports=n.p+"technology.svg"},function(e,t,n){e.exports=n.p+"design.svg"},function(e,t,n){e.exports=n.p+"screenshot1.jpg"},function(e,t,n){e.exports=n.p+"screenshot2.jpg"},function(e,t,n){e.exports=n.p+"screenshot3.jpg"},function(e,t,n){e.exports=n.p+"screenshot4.jpg"},function(e,t,n){e.exports=n.p+"screenshot5.jpg"},function(e,t,n){e.exports=n.p+"screenshot6.jpg"},function(e,t,n){e.exports=n.p+"start.svg"},function(e,t,n){e.exports=n.p+"shoot.svg"},function(e,t,n){e.exports=n.p+"fall.svg"},function(e,t,n){e.exports=n.p+"developer.jpg"},function(e,t,n){"use strict";var i=document.querySelector("#navbar-toggle"),s=document.querySelector("#main-nav");i&&i.addEventListener("click",function(){i.classList.toggle("active"),s.classList.toggle("active")}),s&&s.addEventListener("click",function(e){for(var t=e.target;t!==s;){if("A"===t.tagName)return i.classList.remove("active"),void s.classList.remove("active");t=t.parentNode}})},function(e,t,n){"use strict";var i=new(function(e){return e&&e.__esModule?e:{default:e}}(n(28)).default);window.addEventListener("load",i.start.bind(i)),window.addEventListener("resize",i.resize.bind(i)),window.addEventListener("mousedown",i.click.bind(i)),window.addEventListener("mousemove",i.hover.bind(i)),window.addEventListener("contextmenu",function(e){return e.preventDefault()})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(29)),o=i(n(49)),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.input=new o.default,this.stage=new a.default(this.ctx,this.input)}return s(e,[{key:"start",value:function(){this.resize(),this.stage.downloadAssets(),this.stage.playAudio(),this.loop()}},{key:"resize",value:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}},{key:"render",value:function(){switch(this.stage.current){case"loading":this.stage.loading.render();break;case"start":this.stage.startGame.render();break;case"rules":this.stage.rules.render();break;case"game":this.stage.game.render();break;case"over":this.stage.gameOver.render();break;default:throw new Error("No stage is choosen")}}},{key:"update",value:function(){switch(this.stage.current){case"loading":this.stage.loading.update(),this.stage.current=this.stage.loading.nextStage;break;case"start":this.stage.startGame.update(),this.stage.current=this.stage.startGame.nextStage;break;case"rules":this.stage.rules.update(),this.stage.current=this.stage.rules.nextStage;break;case"game":this.stage.game.update(),this.stage.current=this.stage.game.nextStage,this.stage.game.nextStage="game",this.stage.gameOver.currentScore=this.stage.game.score.value;break;case"over":this.stage.gameOver.update(),this.stage.game.restartGame(),this.stage.game.bestScore.value=this.stage.gameOver.bestScore,this.stage.current=this.stage.gameOver.nextStage,this.stage.gameOver.nextStage="over";break;default:throw new Error("No stage is choosen")}}},{key:"loop",value:function(){this.update(),this.render(),window.requestAnimationFrame(this.loop.bind(this))}},{key:"click",value:function(e){e.preventDefault(),this.input.x=e.x,this.input.y=e.y,this.input.clicked=!0}},{key:"hover",value:function(e){this.input.x=e.x,this.input.y=e.y,this.input.hovered=!0}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(30)),o=i(n(31)),r=i(n(32)),u=i(n(33)),c=i(n(36)),h=i(n(37)),l=i(n(48)),f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.input=n,this.current="loading",this.assets=new h.default,this.bgMusic=new Audio,this.loading=new a.default(this.context,this.assets),this.startGame=new o.default(this.context,this.assets,this.input),this.rules=new r.default(this.context,this.assets,this.input),this.game=new u.default(this.context,this.assets,this.input),this.gameOver=new c.default(this.context,this.assets,this.input)}return s(e,[{key:"downloadAssets",value:function(){this.assets.addRessource(),this.assets.download()}},{key:"playAudio",value:function(){this.bgMusic.src=l.default,this.bgMusic.play(),this.bgMusic.loop=!0}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.assets=n,this.nextStage="loading"}return i(e,[{key:"render",value:function(){this.drawTitle()}},{key:"update",value:function(){this.assets.isDone()&&(this.changeStage(),this.clearStage())}},{key:"drawTitle",value:function(){new s.default(this.context,"Loading...","#000",100,"cursive").draw(window.innerWidth/2,window.innerHeight/2)}},{key:"changeStage",value:function(){this.nextStage="start"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(2)),o=i(n(0)),r=i(n(3)),u=n(1),c=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.assets=n,this.nextStage="start",this.input=i,this.x=window.innerWidth/2-50,this.y=window.innerHeight/2+50,this.btnHover=!1}return s(e,[{key:"render",value:function(){this.drawBg(),this.drawTitle(),this.drawSubTitle(),this.btnHover?this.drawHoverBtn():this.drawBtn()}},{key:"update",value:function(){this.checkHoverOnButton(),this.checkClickOnButton()}},{key:"drawBg",value:function(){var e=this.assets.getAsset("bg-start-game.svg");new a.default(this.context,e).draw()}},{key:"drawTitle",value:function(){new o.default(this.context,"METEORA","#fff",100,"Teko").draw(window.innerWidth/2,window.innerHeight/2)}},{key:"drawSubTitle",value:function(){new o.default(this.context,"It will blow up your planet!","#fff",18,"Lato").draw(window.innerWidth/2,window.innerHeight/2+30)}},{key:"drawBtn",value:function(){new r.default(this.context,"START","").create(this.assets.getAsset("bg-start.svg"),this.x,this.y,110,50)}},{key:"drawHoverBtn",value:function(){new r.default(this.context,"START","").create(this.assets.getAsset("bg-warning.svg"),this.x,this.y,110,50)}},{key:"checkHoverOnButton",value:function(){this.input.hovered&&((0,u.collisionBtn)(this.input,{x:this.x,y:this.y})?this.btnHover=!0:(this.input.hovered=!1,this.btnHover=!1))}},{key:"checkClickOnButton",value:function(){this.input.clicked&&((0,u.collisionBtn)(this.input,{x:this.x,y:this.y})&&(this.changeStage(),this.clearStage()),this.input.clicked=!1)}},{key:"changeStage",value:function(){this.nextStage="rules"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(2)),o=i(n(0)),r=i(n(3)),u=n(1),c=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.assets=n,this.nextStage="rules",this.input=i,this.x=window.innerWidth/2-60,this.y=window.innerHeight/2+150,this.btnHover=!1}return s(e,[{key:"render",value:function(){this.drawBg(),this.drawTitle(),this.drawRule("1. Left-click to shoot with the weapon in falling meteorits.",60),this.drawRule("2. Don't let them fall. One meteorit reduce one life!",100),this.drawRule("3. Acid-green meteor is the most dangerous. It reduces two lives!",140),this.drawRule("4. But the acid-green's explosion gives twice as much points!",180),this.btnHover?this.drawHoverBtn():this.drawBtn()}},{key:"update",value:function(){this.checkHoverOnButton(),this.checkClickOnButton()}},{key:"drawBg",value:function(){var e=this.assets.getAsset("bg-game-over.svg");new a.default(this.context,e).draw()}},{key:"drawTitle",value:function(){new o.default(this.context,"HOW TO PLAY","#fff",100,"Teko").draw(window.innerWidth/2,window.innerHeight/3)}},{key:"drawRule",value:function(e,t){new o.default(this.context,e,"#fff",24,"Lato").draw(window.innerWidth/2,window.innerHeight/3+t)}},{key:"drawBtn",value:function(){new r.default(this.context,"LET'S GO","").create(this.assets.getAsset("bg-start.svg"),this.x,this.y,110,50)}},{key:"drawHoverBtn",value:function(){new r.default(this.context,"LET'S GO","").create(this.assets.getAsset("bg-warning.svg"),this.x,this.y,110,50)}},{key:"checkHoverOnButton",value:function(){this.input.hovered&&((0,u.collisionBtn)(this.input,{x:this.x,y:this.y})?this.btnHover=!0:(this.input.hovered=!1,this.btnHover=!1))}},{key:"checkClickOnButton",value:function(){this.input.clicked&&((0,u.collisionBtn)(this.input,{x:this.x,y:this.y})&&(this.changeStage(),this.clearStage()),this.input.clicked=!1)}},{key:"changeStage",value:function(){this.nextStage="game"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(2)),o=i(n(34)),r=i(n(3)),u=n(1),c=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.assets=n,this.input=i,this.nextStage="game",this.meteors=[],this.count=0,this.maxOnScreen=3,this.exploded=0,this.score=new r.default(this.context,"SCORE:",0),this.bestScore=new r.default(this.context,"BEST:",0),this.lives=new r.default(this.context,"LIVES:",3)}return s(e,[{key:"render",value:function(){var e=this;this.drawBg(),this.drawScore(),this.drawBestScore(),this.drawLives(),this.meteors.forEach(function(t){var n=t.img,i=t.x,s=t.y,a=t.width,o=t.height;e.context.drawImage(n,i,s,a,o)})}},{key:"update",value:function(){var e=this;this.count<=this.maxOnScreen&&(this.meteors.push(this.createMeteor()),this.count+=1,this.makeMoreOnScreen()),this.meteors.forEach(function(t,n){t.update(),e.input.clicked&&e.meteors.forEach(function(t){e.checkMeteorClick(t)}),t.explode&&(e.explodeMeteor(t),t.width<=0&&t.changeRemoveState()),t.failure&&e.removeLive(t),t.remove&&!t.failure&&e.changeScore(t),t.remove&&(t.changeRemoveState(),e.removeMeteor(n),e.count-=1)}),this.lives.value<0&&(this.changeStage(),this.clearStage())}},{key:"drawBg",value:function(){var e=this.assets.getAsset("bg-game.svg");new a.default(this.context,e).draw()}},{key:"drawScore",value:function(){this.score.create(this.assets.getAsset("bg-info.svg"),20,20,150,50)}},{key:"drawBestScore",value:function(){this.bestScore.create(this.assets.getAsset("bg-info.svg"),190,20,120,50)}},{key:"drawLives",value:function(){this.lives.create(this.assets.getAsset("bg-warning.svg"),window.innerWidth-130,20,110,50)}},{key:"createMeteor",value:function(){var e=(0,u.randomize)(3,1),t=this.assets.getAsset("meteor"+e+".svg"),n=new o.default(t,e);return n.index=this.count,n.init(),n}},{key:"removeMeteor",value:function(e){this.meteors.splice(e,1)}},{key:"explodeMeteor",value:function(e){e.playAudio(),e.changeImg(this.assets.getAsset("explosion.svg")),e.resize(4,4),e.changeX()}},{key:"checkMeteorClick",value:function(e){(0,u.collisionMeteor)(this.input,e)&&(e.changeExplodeState(),this.exploded+=1),this.input.clicked=!1}},{key:"makeMoreOnScreen",value:function(){this.exploded>15&&(this.maxOnScreen+=1,this.exploded=0)}},{key:"changeStage",value:function(){this.nextStage="over"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}},{key:"changeScore",value:function(e){this.score.value+=e.points}},{key:"removeLive",value:function(e){this.lives.value-=1===e.type?2:1}},{key:"restartGame",value:function(){this.lives.value=3,this.score.value=0,this.meteors.length=0,this.count=0,this.maxOnScreen=3,this.exploded=0}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(n(35)),a=n(1),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.img=t,this.type=n,this.audio=new Audio,this.x=0,this.y=-200,this.width=20,this.height=20,this.radius=20,this.explode=!1,this.remove=!1,this.failure=!1,this.speed=1,this.index=0,this.points=0}return i(e,[{key:"init",value:function(){this.defineX(),this.defineSize(),this.defineSpeed()}},{key:"update",value:function(){this.y+=this.speed,(this.isOutside()||this.remove)&&(this.remove=!0,this.failure=!0,this.speed=0)}},{key:"defineX",value:function(){var e=window.innerWidth-50;this.x=(0,a.randomize)(e,1)}},{key:"defineSize",value:function(){var e=(0,a.randomize)(100,20);this.width=e,this.height=e,this.radius=Math.round(e/2),this.definePoints(e)}},{key:"definePoints",value:function(e){this.points=1===this.type?2*(110-e):110-e}},{key:"defineSpeed",value:function(){this.speed=(0,a.randomize)(4,1)}},{key:"changeRemoveState",value:function(){this.remove=!this.remove}},{key:"changeExplodeState",value:function(){this.explode=!this.explode}},{key:"changeImg",value:function(e){this.img=e}},{key:"resize",value:function(e,t){this.width-=e,this.height-=t,this.radius=0}},{key:"changeX",value:function(){this.x/2<=this.x&&(this.x+=2)}},{key:"isOutside",value:function(){return this.y>=window.innerHeight+110}},{key:"playAudio",value:function(){this.audio.src=s.default,this.audio.play()}}]),e}();t.default=o},function(e,t,n){e.exports=n.p+"audio/explode.mp3"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(2)),o=i(n(0)),r=i(n(3)),u=n(1),c=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.assets=n,this.input=i,this.nextStage="over",this.currentScore=0,this.bestScore=0,this.x=window.innerWidth/2-43,this.y=window.innerHeight/3+190,this.btnHover=!1}return s(e,[{key:"render",value:function(){this.drawBg(),this.drawTitle(),this.defineBestScore(),this.drawCurrentScore(),this.drawBestScore(),this.btnHover?this.drawHoverBtn():this.drawBtn()}},{key:"update",value:function(){this.checkHoverOnButton(),this.checkClickOnButton()}},{key:"drawBg",value:function(){var e=this.assets.getAsset("bg-game-over.svg");new a.default(this.context,e).draw()}},{key:"drawTitle",value:function(){new o.default(this.context,"GAME OVER","#fff",60,"Teko").draw(window.innerWidth/2+10,window.innerHeight/3)}},{key:"defineBestScore",value:function(){this.currentScore>this.bestScore&&(this.bestScore=this.currentScore)}},{key:"drawCurrentScore",value:function(){var e=new r.default(this.context,"SCORE:",this.currentScore),t=window.innerWidth/2-90,n=window.innerHeight/3+40;e.create(this.assets.getAsset("bg-info.svg"),t,n,200,60)}},{key:"drawBestScore",value:function(){var e=new r.default(this.context,"BEST SCORE:",this.bestScore),t=window.innerWidth/2-90,n=window.innerHeight/3+110;e.create(this.assets.getAsset("bg-info.svg"),t,n,200,60)}},{key:"drawBtn",value:function(){new r.default(this.context,"RESTART","").create(this.assets.getAsset("bg-start.svg"),this.x,this.y,110,50)}},{key:"drawHoverBtn",value:function(){new r.default(this.context,"RESTART","").create(this.assets.getAsset("bg-warning.svg"),this.x,this.y,110,50)}},{key:"checkHoverOnButton",value:function(){this.input.hovered&&((0,u.collisionBtn)(this.input,{x:this.x,y:this.y})?this.btnHover=!0:(this.input.hovered=!1,this.btnHover=!1))}},{key:"checkClickOnButton",value:function(){this.input.clicked&&((0,u.collisionBtn)(this.input,{x:this.x,y:this.y})&&(this.changeStage(),this.clearStage()),this.input.clicked=!1)}},{key:"changeStage",value:function(){this.nextStage="game"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(38)),o=i(n(39)),r=i(n(40)),u=i(n(41)),c=i(n(42)),h=i(n(43)),l=i(n(44)),f=i(n(45)),d=i(n(46)),g=i(n(47)),v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[],this.cache={},this.done=0}return s(e,[{key:"addRessource",value:function(){this.list.push(a.default),this.list.push(o.default),this.list.push(r.default),this.list.push(u.default),this.list.push(c.default),this.list.push(h.default),this.list.push(l.default),this.list.push(f.default),this.list.push(d.default),this.list.push(g.default)}},{key:"download",value:function(){var e=this;this.list.forEach(function(t,n){var i=new Image,s=e.list[n].replace(/images\//,"");i.addEventListener("load",function(){e.done+=1}),i.src=t,e.cache[s]=i})}},{key:"isDone",value:function(){return this.done===this.list.length}},{key:"getAsset",value:function(e){return this.cache[e]}}]),e}();t.default=v},function(e,t,n){e.exports=n.p+"bg-start-game.svg"},function(e,t,n){e.exports=n.p+"bg-start.svg"},function(e,t,n){e.exports=n.p+"bg-game.svg"},function(e,t,n){e.exports=n.p+"bg-info.svg"},function(e,t,n){e.exports=n.p+"bg-warning.svg"},function(e,t,n){e.exports=n.p+"bg-game-over.svg"},function(e,t,n){e.exports=n.p+"meteor1.svg"},function(e,t,n){e.exports=n.p+"meteor2.svg"},function(e,t,n){e.exports=n.p+"meteor3.svg"},function(e,t,n){e.exports=n.p+"explosion.svg"},function(e,t,n){e.exports=n.p+"audio/game.mp3"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.x=0,this.y=0,this.radius=20,this.clicked=!1,this.hovered=!1}}]);